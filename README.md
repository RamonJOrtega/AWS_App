# AWS Marketing App

## What Is It?
Go to https://aws-marketing-app.vercel.app/ to try out the App!

Or to enter the developement environment, entire `yarn install` from root folder, cd to the `brand-helper-site`, and enter `yarn run dev`

Type in words describing your brand, and get a social media caption and keywords/hashtags! 

If you live in the US near Oregon (AWS US-west-2 ), you can expect results in 2-3 seconds. If you live on the East coast, latency is about 8 seconds.

## How the App Works
This is a `Saas` (`software as a service`) application.
The service (backend) is an `API` written in `python` using `FastAPI` ajd hosted with `AWS Lambda` and `AWS API Gateway`.
The service takes a prompt from a user and makes a call to the 3rd party `OpenAI` `API` which returns keyword results.
The `AWS Lambda` service is triggered thru AWS `API gateway` which provides an endpoint with a URL query structure. 
- Example: https://##mgcbkr##.execute-api.us-west-2.amazonaws.com/prod/generate_wods?prompt=classy_cocktail. 
- When an end point is queried, the backend gets `OpenAI data` and displays recommended branding captions and keywords to user.
  
The user communicates with the service via a front end written in `Typscript`, `React`, and `Next.js` which is all hosted on `Vercel`

### `openAI` Model : GPT-3: `text-ada-001`.
- This is the fastsest, lowest cost, GPT model, capable of simple tasks.
- The financial cost of running this app is currently `$0.0008`/`1000 tokens` or `$0.0052`/`request`
- Each `request` is approximately 31 characters which usually equates to about `13 tokens`
- For `$5`/`month` the will serve approximately `960 requests`


### Front End Tech Stack
- `Typescript` language
- `NextJS` and `React` main framworks
- `TailwindCSS` styling framework
- `Vercel` hosting

### Back End Tech Stack
- `Python` language
- `FastAPI` framework
- `AWS` `Lambda` and `API Gateway` hosting
- `OpenAI` for content generation
- `AWS CDK` and `Docker` for infrastructure managemet
- `GitHub` version control 
- `Linux` bash terminal for endpoint testing`
- `Docker` 

## Repository File Structure

### /infrastructure
The AWS infrastructure generated by AWS CDK lives in the /infrastructure folder.
Every time you make a change to the backend, you need to save and run "cdk deploy" to update the AWS Lambda function hosted on AWS API Gateway.

## /app
The python API and FastAPI backend live in the the /app folder.
Update these files to get different responses from Chat GPT on openAI.
Don't forget to save and run "cdk deploy" as mentioned above.

## /brand-helper-site filder
The Next.JS front end lives in the /brand-helper-site folder.
Modify these files to change the themes, text, and browser behavior of the app.
Don't forget to push your files to github to auto-update the Vercel Host.

## What Does the App Look Like?

![alt text](https://github.com/RamonJOrtega/AWS_Marketing_App/blob/main/appPIcture1.png)
![alt text](https://github.com/RamonJOrtega/AWS_Marketing_App/blob/main/appPIcture2.png)

## To Duplicate this App
You can clone this repo and link it to your AWS account if you want to duplicate the project. 

### To duplicate this repo frontend:
1. Have `node` and `Yarn` installed.
1. Run `cd brand-helper-site` folder from the terminal.
1. Run `yarn install` to install all dependencies
1. Go `Vercel.com/docs` -> `quickstart` -> `Next.js` -> `Deploy` to host the frontend.

### To duplicate this repo backend, it's more complex.
1. Have `node`, `python3`, `fastAPI`, all installed
1. Create an AWS account, and setup `API Gateway``.
1. from the main folder, run `yarn install aws-cli`
1. from the main folder, run `sudo npm install -g aws-cdk` to get the cloud developement kit which pushes your code to the server.
1. Run `cdk bootsrap aws://<12-digit-aws-accountnumber>/<zone>`. Zone example `<us-east-w>`
3. Run `cdk deploy` (creates lambda function on your account and sets up the backend)


